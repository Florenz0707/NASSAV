# 前端实现计划 — 按演员聚合分类查询

## 目标
实现按演员（actors）进行聚合分类的查询视图与交互，支持按演员查看相关媒体资源列表、搜索与分页，并保持现有资源列表的兼容性。

## 接口契约（API）
- 新增或复用资源列表接口，支持查询参数：`group_by=actor`（返回按演员聚合的分组）和 `actor=<name|id>`（筛选某演员的资源）。
- 分组结果应包含：演员标识（id/name）、资源数量、示例缩略图或若干示例资源的简要信息。

## UI/交互变更
- 新增“按演员分组”视图入口（例如在资源列表页的过滤器中添加“按演员分组”选项）。
- 分组视图展示卡片列表：每个卡片显示演员名、资源数量、代表缩略图。卡片点击进入该演员的资源列表页。
- 演员资源列表页：与普通资源列表布局一致，但显示筛选为该演员的资源，支持分页与排序。

## 组件与状态管理
- 复用现有 `ResourceList` / `ResourceCard` 组件，新增 `ActorGroupCard` 组件用于展示分组条目。
- 在状态管理（Pinia/Vuex）中新增或扩展模块：
  - `actorGroups`：缓存分组数据、加载状态、分页信息；
  - 支持根据 `group_by` 参数切换列表模式（flat vs grouped）。

## 路由与导航
- 新增路由 `/actors` 显示演员分组页；路由 `/actors/:actorId` 或 `/actors/:actorName` 显示该演员的资源列表（可重用资源列表组件并传入筛选参数）。

## 查询与分页策略
- 分组页使用分页加载分组（每页 N 个演员卡片）；演员资源列表使用现有资源分页接口。
- 对于“示例资源”字段建议只请求少量（例如 3 个）示例以减少负载。

## 错误处理与加载态
- 显示统一的加载骨架与错误提示，支持重试。

## 性能与缓存
- 对分组视图在客户端做短时缓存（例如 30s）以减少重复请求。

## 测试
- 单元测试：`ActorGroupCard`、与资源列表交互的状态管理动作。
- 集成/E2E 测试：路由导航、分组加载、点击进入演员资源页的完整流程。

## 回滚与兼容性
- 不破坏当前资源列表的 API；若新接口不可用，保持现有“按资源”视图正常工作。

## 部署步骤（简要）
1. 后端实现并提供文档与示例响应。
2. 前端实现分组视图并使用 feature flag 在 staging 开启测试。
3. 验证通过后在生产环境打开。
